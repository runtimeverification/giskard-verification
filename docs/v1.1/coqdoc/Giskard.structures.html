<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.Arith.html#"><span class="id" title="library">Arith</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Giskard</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Giskard.lib.html#"><span class="id" title="library">lib</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab2"></a><h1 class="section">Definitions of Giskard datatypes</h1>

<div class="paragraph"> </div>

<a id="lab3"></a><h2 class="section">Blocks</h2>

<div class="paragraph"> </div>

 Blocks are equipped with decidable equality, a genesis block inhabitant,
a height, a flag indicating its last block status. 
</div>
<div class="code">
<span class="id" title="keyword">Parameter</span> <a id="block" class="idref" href="#block"><span class="id" title="axiom">block</span></a> : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Parameter</span> <a id="GenesisBlock" class="idref" href="#GenesisBlock"><span class="id" title="axiom">GenesisBlock</span></a> : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a>.<br/>
<span class="id" title="keyword">Parameter</span> <a id="b_height" class="idref" href="#b_height"><span class="id" title="axiom">b_height</span></a> : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
<span class="id" title="keyword">Parameter</span> <a id="b_index" class="idref" href="#b_index"><span class="id" title="axiom">b_index</span></a> : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
</div>

<div class="doc">
The genesis block has minimal height. 
</div>
<div class="code">
<span class="id" title="keyword">Axiom</span> <a id="GenesisBlock_height" class="idref" href="#GenesisBlock_height"><span class="id" title="axiom">GenesisBlock_height</span></a> : <span class="id" title="keyword">forall</span> <a id="b:5" class="idref" href="#b:5"><span class="id" title="binder">b</span></a>, <a class="idref" href="Giskard.structures.html#b_height"><span class="id" title="axiom">b_height</span></a> <a class="idref" href="Giskard.structures.html#GenesisBlock"><span class="id" title="axiom">GenesisBlock</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Giskard.structures.html#b_height"><span class="id" title="axiom">b_height</span></a> <a class="idref" href="Giskard.structures.html#b:5"><span class="id" title="variable">b</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="b_last" class="idref" href="#b_last"><span class="id" title="definition">b_last</span></a> (<a id="b:7" class="idref" href="#b:7"><span class="id" title="binder">b</span></a> : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">(</span></a><a class="idref" href="Giskard.structures.html#b_index"><span class="id" title="axiom">b_index</span></a> <a class="idref" href="Giskard.structures.html#b:7"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> 3.<br/>

<br/>
<span class="id" title="keyword">Parameter</span> <a id="block_eqb" class="idref" href="#block_eqb"><span class="id" title="axiom">block_eqb</span></a> : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
<span class="id" title="keyword">Axiom</span> <a id="block_eqb_correct" class="idref" href="#block_eqb_correct"><span class="id" title="axiom">block_eqb_correct</span></a> : <span class="id" title="keyword">forall</span> <a id="b1:9" class="idref" href="#b1:9"><span class="id" title="binder">b1</span></a> <a id="b2:10" class="idref" href="#b2:10"><span class="id" title="binder">b2</span></a>, <a class="idref" href="Giskard.structures.html#block_eqb"><span class="id" title="axiom">block_eqb</span></a> <a class="idref" href="Giskard.structures.html#b1:9"><span class="id" title="variable">b1</span></a> <a class="idref" href="Giskard.structures.html#b2:10"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Giskard.structures.html#b1:9"><span class="id" title="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#b2:10"><span class="id" title="variable">b2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="block_eq_dec" class="idref" href="#block_eq_dec"><span class="id" title="definition">block_eq_dec</span></a> : <span class="id" title="keyword">forall</span> <a id="b1:12" class="idref" href="#b1:12"><span class="id" title="binder">b1</span></a> <a id="b2:13" class="idref" href="#b2:13"><span class="id" title="binder">b2</span></a> : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Giskard.structures.html#b1:12"><span class="id" title="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#b2:13"><span class="id" title="variable">b2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Giskard.structures.html#b1:12"><span class="id" title="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Giskard.structures.html#b2:13"><span class="id" title="variable">b2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="var">case_eq</span> (<a class="idref" href="Giskard.structures.html#block_eqb"><span class="id" title="axiom">block_eqb</span></a> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span>); <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Giskard.structures.html#block_eqb_correct"><span class="id" title="axiom">block_eqb_correct</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Giskard.structures.html#block_eqb_correct"><span class="id" title="axiom">block_eqb_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Parameter</span> <a id="generate_new_block" class="idref" href="#generate_new_block"><span class="id" title="axiom">generate_new_block</span></a> : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a>.<br/>
<span class="id" title="keyword">Parameter</span> <a id="generate_last_block" class="idref" href="#generate_last_block"><span class="id" title="axiom">generate_last_block</span></a> : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a>.<br/>
<span class="id" title="keyword">Axiom</span> <a id="about_generate_last_block" class="idref" href="#about_generate_last_block"><span class="id" title="axiom">about_generate_last_block</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <a id="b:16" class="idref" href="#b:16"><span class="id" title="binder">b</span></a>, <a class="idref" href="Giskard.structures.html#b_height"><span class="id" title="axiom">b_height</span></a> (<a class="idref" href="Giskard.structures.html#generate_last_block"><span class="id" title="axiom">generate_last_block</span></a> <a class="idref" href="Giskard.structures.html#b:16"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Giskard.structures.html#b_height"><span class="id" title="axiom">b_height</span></a> <a class="idref" href="Giskard.structures.html#b:16"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Giskard.structures.html#b_last"><span class="id" title="definition">b_last</span></a> (<a class="idref" href="Giskard.structures.html#generate_last_block"><span class="id" title="axiom">generate_last_block</span></a> <a class="idref" href="Giskard.structures.html#b:16"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Axiom</span> <a id="about_non_last_block" class="idref" href="#about_non_last_block"><span class="id" title="axiom">about_non_last_block</span></a> : <span class="id" title="keyword">forall</span> <a id="b:18" class="idref" href="#b:18"><span class="id" title="binder">b</span></a>, <a class="idref" href="Giskard.structures.html#b_last"><span class="id" title="definition">b_last</span></a> (<a class="idref" href="Giskard.structures.html#generate_new_block"><span class="id" title="axiom">generate_new_block</span></a> <a class="idref" href="Giskard.structures.html#b:18"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab4"></a><h2 class="section">Parent relation</h2>

<div class="paragraph"> </div>

 We assume a primitive parent relation on blocks. 
</div>
<div class="code">
<span class="id" title="keyword">Parameter</span> <a id="parent_of" class="idref" href="#parent_of"><span class="id" title="axiom">parent_of</span></a> : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a>.<br/>
<span class="id" title="keyword">Parameter</span> <a id="parent_ofb" class="idref" href="#parent_ofb"><span class="id" title="axiom">parent_ofb</span></a> : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
<span class="id" title="keyword">Axiom</span> <a id="parent_ofb_correct" class="idref" href="#parent_ofb_correct"><span class="id" title="axiom">parent_ofb_correct</span></a> : <span class="id" title="keyword">forall</span> <a id="b1:22" class="idref" href="#b1:22"><span class="id" title="binder">b1</span></a> <a id="b2:23" class="idref" href="#b2:23"><span class="id" title="binder">b2</span></a>, <a class="idref" href="Giskard.structures.html#parent_of"><span class="id" title="axiom">parent_of</span></a> <a class="idref" href="Giskard.structures.html#b1:22"><span class="id" title="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#b2:23"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Giskard.structures.html#parent_ofb"><span class="id" title="axiom">parent_ofb</span></a> <a class="idref" href="Giskard.structures.html#b1:22"><span class="id" title="variable">b1</span></a> <a class="idref" href="Giskard.structures.html#b2:23"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Axiom</span> <a id="generate_new_block_parent" class="idref" href="#generate_new_block_parent"><span class="id" title="axiom">generate_new_block_parent</span></a> : <span class="id" title="keyword">forall</span> <a id="b:25" class="idref" href="#b:25"><span class="id" title="binder">b</span></a>, <a class="idref" href="Giskard.structures.html#parent_of"><span class="id" title="axiom">parent_of</span></a> (<a class="idref" href="Giskard.structures.html#generate_new_block"><span class="id" title="axiom">generate_new_block</span></a> <a class="idref" href="Giskard.structures.html#b:25"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#b:25"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Axiom</span> <a id="parent_block_height" class="idref" href="#parent_block_height"><span class="id" title="axiom">parent_block_height</span></a> : <span class="id" title="keyword">forall</span> <a id="b:27" class="idref" href="#b:27"><span class="id" title="binder">b</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Giskard.structures.html#b_height"><span class="id" title="axiom">b_height</span></a> (<a class="idref" href="Giskard.structures.html#parent_of"><span class="id" title="axiom">parent_of</span></a> <a class="idref" href="Giskard.structures.html#b:27"><span class="id" title="variable">b</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#b_height"><span class="id" title="axiom">b_height</span></a> <a class="idref" href="Giskard.structures.html#b:27"><span class="id" title="variable">b</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="about_generate_new_block" class="idref" href="#about_generate_new_block"><span class="id" title="lemma">about_generate_new_block</span></a> : <span class="id" title="keyword">forall</span> <a id="b:29" class="idref" href="#b:29"><span class="id" title="binder">b</span></a>, <a class="idref" href="Giskard.structures.html#b_height"><span class="id" title="axiom">b_height</span></a> (<a class="idref" href="Giskard.structures.html#generate_new_block"><span class="id" title="axiom">generate_new_block</span></a> <a class="idref" href="Giskard.structures.html#b:29"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="Giskard.structures.html#b_height"><span class="id" title="axiom">b_height</span></a> <a class="idref" href="Giskard.structures.html#b:29"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Giskard.structures.html#parent_block_height"><span class="id" title="axiom">parent_block_height</span></a>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Giskard.structures.html#generate_new_block_parent"><span class="id" title="axiom">generate_new_block_parent</span></a>.<br/>
&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h2 class="section">Nodes</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Parameter</span> <a id="node" class="idref" href="#node"><span class="id" title="axiom">node</span></a> : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Parameter</span> <a id="node_eqb" class="idref" href="#node_eqb"><span class="id" title="axiom">node_eqb</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
<span class="id" title="keyword">Axiom</span> <a id="node_eqb_correct" class="idref" href="#node_eqb_correct"><span class="id" title="axiom">node_eqb_correct</span></a> : <span class="id" title="keyword">forall</span> <a id="n1:32" class="idref" href="#n1:32"><span class="id" title="binder">n1</span></a> <a id="n2:33" class="idref" href="#n2:33"><span class="id" title="binder">n2</span></a>, <a class="idref" href="Giskard.structures.html#node_eqb"><span class="id" title="axiom">node_eqb</span></a> <a class="idref" href="Giskard.structures.html#n1:32"><span class="id" title="variable">n1</span></a> <a class="idref" href="Giskard.structures.html#n2:33"><span class="id" title="variable">n2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Giskard.structures.html#n1:32"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#n2:33"><span class="id" title="variable">n2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="node_eqb_refl" class="idref" href="#node_eqb_refl"><span class="id" title="lemma">node_eqb_refl</span></a> : <span class="id" title="keyword">forall</span> <a id="n:35" class="idref" href="#n:35"><span class="id" title="binder">n</span></a>, <a class="idref" href="Giskard.structures.html#node_eqb"><span class="id" title="axiom">node_eqb</span></a> <a class="idref" href="Giskard.structures.html#n:35"><span class="id" title="variable">n</span></a> <a class="idref" href="Giskard.structures.html#n:35"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Giskard.structures.html#node_eqb_correct"><span class="id" title="axiom">node_eqb_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="node_eqb_comm" class="idref" href="#node_eqb_comm"><span class="id" title="lemma">node_eqb_comm</span></a> : <span class="id" title="keyword">forall</span> <a id="n1:36" class="idref" href="#n1:36"><span class="id" title="binder">n1</span></a> <a id="n2:37" class="idref" href="#n2:37"><span class="id" title="binder">n2</span></a>, <a class="idref" href="Giskard.structures.html#node_eqb"><span class="id" title="axiom">node_eqb</span></a> <a class="idref" href="Giskard.structures.html#n1:36"><span class="id" title="variable">n1</span></a> <a class="idref" href="Giskard.structures.html#n2:37"><span class="id" title="variable">n2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#node_eqb"><span class="id" title="axiom">node_eqb</span></a> <a class="idref" href="Giskard.structures.html#n2:37"><span class="id" title="variable">n2</span></a> <a class="idref" href="Giskard.structures.html#n1:36"><span class="id" title="variable">n1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="Giskard.structures.html#node_eqb"><span class="id" title="axiom">node_eqb</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>) <span class="id" title="var">eqn</span>:?;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Giskard.structures.html#node_eqb"><span class="id" title="axiom">node_eqb</span></a> <span class="id" title="var">n2</span> <span class="id" title="var">n1</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Giskard.structures.html#node_eqb_correct"><span class="id" title="axiom">node_eqb_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqb</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqb0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Giskard.structures.html#node_eqb_refl"><span class="id" title="lemma">node_eqb_refl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqb0</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Giskard.structures.html#node_eqb_correct"><span class="id" title="axiom">node_eqb_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqb0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqb0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Giskard.structures.html#node_eqb_refl"><span class="id" title="lemma">node_eqb_refl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqb</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="node_eqb_no" class="idref" href="#node_eqb_no"><span class="id" title="lemma">node_eqb_no</span></a> : <span class="id" title="keyword">forall</span> <a id="n1:38" class="idref" href="#n1:38"><span class="id" title="binder">n1</span></a> <a id="n2:39" class="idref" href="#n2:39"><span class="id" title="binder">n2</span></a>, <a class="idref" href="Giskard.structures.html#n1:38"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Giskard.structures.html#n2:39"><span class="id" title="variable">n2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Giskard.structures.html#node_eqb"><span class="id" title="axiom">node_eqb</span></a> <a class="idref" href="Giskard.structures.html#n1:38"><span class="id" title="variable">n1</span></a> <a class="idref" href="Giskard.structures.html#n2:39"><span class="id" title="variable">n2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="var">case_eq</span> (<a class="idref" href="Giskard.structures.html#node_eqb"><span class="id" title="axiom">node_eqb</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Giskard.structures.html#node_eqb_correct"><span class="id" title="axiom">node_eqb_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="node_eq_dec" class="idref" href="#node_eq_dec"><span class="id" title="definition">node_eq_dec</span></a> : <span class="id" title="keyword">forall</span> <a id="n1:40" class="idref" href="#n1:40"><span class="id" title="binder">n1</span></a> <a id="n2:41" class="idref" href="#n2:41"><span class="id" title="binder">n2</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Giskard.structures.html#n1:40"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#n2:41"><span class="id" title="variable">n2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}+{</span></a><a class="idref" href="Giskard.structures.html#n1:40"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Giskard.structures.html#n2:41"><span class="id" title="variable">n2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="var">case_eq</span> (<a class="idref" href="Giskard.structures.html#node_eqb"><span class="id" title="axiom">node_eqb</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>); <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Giskard.structures.html#node_eqb_correct"><span class="id" title="axiom">node_eqb_correct</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Giskard.structures.html#node_eqb_correct"><span class="id" title="axiom">node_eqb_correct</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Honest node property. 
</div>
<div class="code">
<span class="id" title="keyword">Parameter</span> <a id="honest_node" class="idref" href="#honest_node"><span class="id" title="axiom">honest_node</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="keyword">Parameter</span> <a id="honest_nodeb" class="idref" href="#honest_nodeb"><span class="id" title="axiom">honest_nodeb</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
<span class="id" title="keyword">Axiom</span> <a id="honest_nodeb_correct" class="idref" href="#honest_nodeb_correct"><span class="id" title="axiom">honest_nodeb_correct</span></a> : <span class="id" title="keyword">forall</span> (<a id="n:44" class="idref" href="#n:44"><span class="id" title="binder">n</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>), <a class="idref" href="Giskard.structures.html#honest_node"><span class="id" title="axiom">honest_node</span></a> <a class="idref" href="Giskard.structures.html#n:44"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Giskard.structures.html#honest_nodeb"><span class="id" title="axiom">honest_nodeb</span></a> <a class="idref" href="Giskard.structures.html#n:44"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab6"></a><h2 class="section">Quorums</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Parameter</span> <a id="has_at_least_two_thirdsb" class="idref" href="#has_at_least_two_thirdsb"><span class="id" title="axiom">has_at_least_two_thirdsb</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="has_at_least_two_thirds" class="idref" href="#has_at_least_two_thirds"><span class="id" title="definition">has_at_least_two_thirds</span></a> (<a id="l:47" class="idref" href="#l:47"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="Giskard.structures.html#has_at_least_two_thirdsb"><span class="id" title="axiom">has_at_least_two_thirdsb</span></a> <a class="idref" href="Giskard.structures.html#l:47"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Parameter</span> <a id="has_at_least_one_thirdb" class="idref" href="#has_at_least_one_thirdb"><span class="id" title="axiom">has_at_least_one_thirdb</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="has_at_least_one_third" class="idref" href="#has_at_least_one_third"><span class="id" title="definition">has_at_least_one_third</span></a> (<a id="l:49" class="idref" href="#l:49"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="Giskard.structures.html#has_at_least_one_thirdb"><span class="id" title="axiom">has_at_least_one_thirdb</span></a> <a class="idref" href="Giskard.structures.html#l:49"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="majority_growth" class="idref" href="#majority_growth"><span class="id" title="axiom">majority_growth</span></a> : <span class="id" title="keyword">forall</span> (<a id="l:50" class="idref" href="#l:50"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#has_at_least_two_thirds"><span class="id" title="definition">has_at_least_two_thirds</span></a> <a class="idref" href="Giskard.structures.html#l:50"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="n:51" class="idref" href="#n:51"><span class="id" title="binder">n</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#has_at_least_two_thirds"><span class="id" title="definition">has_at_least_two_thirds</span></a> (<a class="idref" href="Giskard.structures.html#n:51"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Giskard.structures.html#l:50"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="empty_has_no_two_thirds'" class="idref" href="#empty_has_no_two_thirds'"><span class="id" title="axiom">empty_has_no_two_thirds'</span></a> : <span class="id" title="keyword">forall</span> (<a id="l:53" class="idref" href="#l:53"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>), <a class="idref" href="Giskard.structures.html#has_at_least_two_thirds"><span class="id" title="definition">has_at_least_two_thirds</span></a> <a class="idref" href="Giskard.structures.html#l:53"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="n:54" class="idref" href="#n:54"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Giskard.structures.html#n:54"><span class="id" title="variable">n</span></a> <a class="idref" href="Giskard.structures.html#l:53"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Theorem</span> <a id="empty_has_no_two_thirds" class="idref" href="#empty_has_no_two_thirds"><span class="id" title="lemma">empty_has_no_two_thirds</span></a>  : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Giskard.structures.html#has_at_least_two_thirds"><span class="id" title="definition">has_at_least_two_thirds</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Giskard.structures.html#empty_has_no_two_thirds'"><span class="id" title="axiom">empty_has_no_two_thirds'</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Axiom</span> <a id="empty_has_no_one_third'" class="idref" href="#empty_has_no_one_third'"><span class="id" title="axiom">empty_has_no_one_third'</span></a> : <span class="id" title="keyword">forall</span> (<a id="l:56" class="idref" href="#l:56"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>), <a class="idref" href="Giskard.structures.html#has_at_least_one_third"><span class="id" title="definition">has_at_least_one_third</span></a>  <a class="idref" href="Giskard.structures.html#l:56"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="n:57" class="idref" href="#n:57"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Giskard.structures.html#n:57"><span class="id" title="variable">n</span></a> <a class="idref" href="Giskard.structures.html#l:56"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Theorem</span> <a id="empty_has_no_one_third" class="idref" href="#empty_has_no_one_third"><span class="id" title="lemma">empty_has_no_one_third</span></a>   : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Giskard.structures.html#has_at_least_one_third"><span class="id" title="definition">has_at_least_one_third</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Giskard.structures.html#empty_has_no_one_third'"><span class="id" title="axiom">empty_has_no_one_third'</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="minority_subset" class="idref" href="#minority_subset"><span class="id" title="axiom">minority_subset</span></a> : <span class="id" title="keyword">forall</span> (<a id="l:59" class="idref" href="#l:59"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#has_at_least_one_third"><span class="id" title="definition">has_at_least_one_third</span></a> <a class="idref" href="Giskard.structures.html#l:59"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="l_superset:60" class="idref" href="#l_superset:60"><span class="id" title="binder">l_superset</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="n:61" class="idref" href="#n:61"><span class="id" title="binder">n</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Giskard.structures.html#n:61"><span class="id" title="variable">n</span></a> <a class="idref" href="Giskard.structures.html#l:59"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Giskard.structures.html#n:61"><span class="id" title="variable">n</span></a> <a class="idref" href="Giskard.structures.html#l_superset:60"><span class="id" title="variable">l_superset</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#has_at_least_one_third"><span class="id" title="definition">has_at_least_one_third</span></a> <a class="idref" href="Giskard.structures.html#l_superset:60"><span class="id" title="variable">l_superset</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="majority_shrink" class="idref" href="#majority_shrink"><span class="id" title="lemma">majority_shrink</span></a> : <span class="id" title="keyword">forall</span> (<a id="n:63" class="idref" href="#n:63"><span class="id" title="binder">n</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>) (<a id="l:64" class="idref" href="#l:64"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>),<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Giskard.structures.html#has_at_least_two_thirds"><span class="id" title="definition">has_at_least_two_thirds</span></a> (<a class="idref" href="Giskard.structures.html#n:63"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Giskard.structures.html#l:64"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Giskard.structures.html#has_at_least_two_thirds"><span class="id" title="definition">has_at_least_two_thirds</span></a> <a class="idref" href="Giskard.structures.html#l:64"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">l</span> <span class="id" title="var">H_not_in</span> <span class="id" title="var">H_not_in_tl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H_not_in</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Giskard.structures.html#majority_growth"><span class="id" title="axiom">majority_growth</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="intersection_property" class="idref" href="#intersection_property"><span class="id" title="axiom">intersection_property</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="l1:65" class="idref" href="#l1:65"><span class="id" title="binder">l1</span></a> <a id="l2:66" class="idref" href="#l2:66"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#has_at_least_two_thirds"><span class="id" title="definition">has_at_least_two_thirds</span></a> <a class="idref" href="Giskard.structures.html#l1:65"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#has_at_least_two_thirds"><span class="id" title="definition">has_at_least_two_thirds</span></a> <a class="idref" href="Giskard.structures.html#l2:66"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="l:67" class="idref" href="#l:67"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#has_at_least_one_third"><span class="id" title="definition">has_at_least_one_third</span></a> <a class="idref" href="Giskard.structures.html#l:67"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="n:68" class="idref" href="#n:68"><span class="id" title="binder">n</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Giskard.structures.html#n:68"><span class="id" title="variable">n</span></a> <a class="idref" href="Giskard.structures.html#l:67"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Giskard.structures.html#n:68"><span class="id" title="variable">n</span></a> <a class="idref" href="Giskard.structures.html#l1:65"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Giskard.structures.html#n:68"><span class="id" title="variable">n</span></a> <a class="idref" href="Giskard.structures.html#l2:66"><span class="id" title="variable">l2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_member" class="idref" href="#is_member"><span class="id" title="definition">is_member</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">fun</span> <a id="n:70" class="idref" href="#n:70"><span class="id" title="binder">n</span></a> <a id="ns:71" class="idref" href="#ns:71"><span class="id" title="binder">ns</span></a> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="Giskard.structures.html#node_eq_dec"><span class="id" title="definition">node_eq_dec</span></a> <a class="idref" href="Giskard.structures.html#n:70"><span class="id" title="variable">n</span></a> <a class="idref" href="Giskard.structures.html#ns:71"><span class="id" title="variable">ns</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_member_correct" class="idref" href="#is_member_correct"><span class="id" title="lemma">is_member_correct</span></a> : <span class="id" title="keyword">forall</span> (<a id="n:72" class="idref" href="#n:72"><span class="id" title="binder">n</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>) (<a id="ln:73" class="idref" href="#ln:73"><span class="id" title="binder">ln</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>), <a class="idref" href="Giskard.structures.html#is_member"><span class="id" title="definition">is_member</span></a> <a class="idref" href="Giskard.structures.html#n:72"><span class="id" title="variable">n</span></a> <a class="idref" href="Giskard.structures.html#ln:73"><span class="id" title="variable">ln</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Giskard.structures.html#n:72"><span class="id" title="variable">n</span></a> <a class="idref" href="Giskard.structures.html#ln:73"><span class="id" title="variable">ln</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Giskard.structures.html#is_member"><span class="id" title="definition">is_member</span></a>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
No more than one third malicious node assumption. 
</div>
<div class="code">
<span class="id" title="keyword">Parameter</span> <a id="participants" class="idref" href="#participants"><span class="id" title="axiom">participants</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>.<br/>
<span class="id" title="keyword">Axiom</span> <a id="evil_participants" class="idref" href="#evil_participants"><span class="id" title="axiom">evil_participants</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Giskard.structures.html#has_at_least_one_third"><span class="id" title="definition">has_at_least_one_third</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="n:75" class="idref" href="#n:75"><span class="id" title="binder">n</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Giskard.structures.html#honest_nodeb"><span class="id" title="axiom">honest_nodeb</span></a> <a class="idref" href="Giskard.structures.html#n:75"><span class="id" title="variable">n</span></a>)) <a class="idref" href="Giskard.structures.html#participants"><span class="id" title="axiom">participants</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab7"></a><h2 class="section">Messages</h2>

<div class="paragraph"> </div>

 A message type is one of:
<ul class="doclist">
<li> <code>PrepareBlock</code>: implicitly carries highest block of previous view,

</li>
<li> <code>PrepareVote</code>: implicitly carries <code>PrepareQC</code> of parent,

</li>
<li> <code>ViewChange</code>: Implicitly carries <code>PrepareQC</code> of highest block in view,

</li>
<li> <code>PrepareQC</code>: Carries nothing, i.e., GenesisBlock, and

</li>
<li> <code>ViewChangeQC</code>: Carries nothing, i.e., GenesisBlock.

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="message_type" class="idref" href="#message_type"><span class="id" title="inductive">message_type</span></a> :=<br/>
| <a id="PrepareBlock" class="idref" href="#PrepareBlock"><span class="id" title="constructor">PrepareBlock</span></a><br/>
| <a id="PrepareVote" class="idref" href="#PrepareVote"><span class="id" title="constructor">PrepareVote</span></a><br/>
| <a id="ViewChange" class="idref" href="#ViewChange"><span class="id" title="constructor">ViewChange</span></a><br/>
| <a id="PrepareQC" class="idref" href="#PrepareQC"><span class="id" title="constructor">PrepareQC</span></a><br/>
| <a id="ViewChangeQC" class="idref" href="#ViewChangeQC"><span class="id" title="constructor">ViewChangeQC</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="message_type_eq_dec" class="idref" href="#message_type_eq_dec"><span class="id" title="definition">message_type_eq_dec</span></a> : <span class="id" title="keyword">forall</span> (<a id="mt1:79" class="idref" href="#mt1:79"><span class="id" title="binder">mt1</span></a> <a id="mt2:80" class="idref" href="#mt2:80"><span class="id" title="binder">mt2</span></a> : <a class="idref" href="Giskard.structures.html#message_type"><span class="id" title="inductive">message_type</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Giskard.structures.html#mt1:79"><span class="id" title="variable">mt1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#mt2:80"><span class="id" title="variable">mt2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}+{</span></a><a class="idref" href="Giskard.structures.html#mt1:79"><span class="id" title="variable">mt1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Giskard.structures.html#mt2:80"><span class="id" title="variable">mt2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">decide</span> <span class="id" title="var">equality</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="message_type_eqb" class="idref" href="#message_type_eqb"><span class="id" title="definition">message_type_eqb</span></a> : <a class="idref" href="Giskard.structures.html#message_type"><span class="id" title="inductive">message_type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Giskard.structures.html#message_type"><span class="id" title="inductive">message_type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
<span class="id" title="keyword">fun</span> <a id="mt1:81" class="idref" href="#mt1:81"><span class="id" title="binder">mt1</span></a> <a id="mt2:82" class="idref" href="#mt2:82"><span class="id" title="binder">mt2</span></a> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="Giskard.structures.html#message_type_eq_dec"><span class="id" title="definition">message_type_eq_dec</span></a> <a class="idref" href="Giskard.structures.html#mt1:81"><span class="id" title="variable">mt1</span></a> <a class="idref" href="Giskard.structures.html#mt2:82"><span class="id" title="variable">mt2</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="message_type_eqb_correct" class="idref" href="#message_type_eqb_correct"><span class="id" title="lemma">message_type_eqb_correct</span></a> : <span class="id" title="keyword">forall</span> (<a id="mt1:83" class="idref" href="#mt1:83"><span class="id" title="binder">mt1</span></a> <a id="mt2:84" class="idref" href="#mt2:84"><span class="id" title="binder">mt2</span></a> : <a class="idref" href="Giskard.structures.html#message_type"><span class="id" title="inductive">message_type</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#message_type_eqb"><span class="id" title="definition">message_type_eqb</span></a> <a class="idref" href="Giskard.structures.html#mt1:83"><span class="id" title="variable">mt1</span></a> <a class="idref" href="Giskard.structures.html#mt2:84"><span class="id" title="variable">mt2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Giskard.structures.html#mt1:83"><span class="id" title="variable">mt1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#mt2:84"><span class="id" title="variable">mt2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Giskard.structures.html#message_type_eqb"><span class="id" title="definition">message_type_eqb</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Giskard.structures.html#message_type_eq_dec"><span class="id" title="definition">message_type_eq_dec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A message contains:
<ul class="doclist">
<li> <code>get_message_type</code>: the message type,

</li>
<li> <code>get_view</code>: a timestamp of a view,

</li>
<li> <code>get_sender</code>: the sender node,

</li>
<li> <code>get_block</code>: the primary block, and

</li>
<li> <code>get_piggyback_block</code>: piggyback block.

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Record</span> <a id="message" class="idref" href="#message"><span class="id" title="record">message</span></a> := <span class="id" title="var">mkMessage</span> {<br/>
&nbsp;<a id="get_message_type" class="idref" href="#get_message_type"><span class="id" title="projection">get_message_type</span></a> : <a class="idref" href="Giskard.structures.html#message_type"><span class="id" title="inductive">message_type</span></a>;<br/>
&nbsp;<a id="get_view" class="idref" href="#get_view"><span class="id" title="projection">get_view</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;<a id="get_sender" class="idref" href="#get_sender"><span class="id" title="projection">get_sender</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>;<br/>
&nbsp;<a id="get_block" class="idref" href="#get_block"><span class="id" title="projection">get_block</span></a> : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a>;<br/>
&nbsp;<a id="get_piggyback_block" class="idref" href="#get_piggyback_block"><span class="id" title="projection">get_piggyback_block</span></a> : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="message_eq_dec" class="idref" href="#message_eq_dec"><span class="id" title="definition">message_eq_dec</span></a> : <span class="id" title="keyword">forall</span> (<a id="m1:91" class="idref" href="#m1:91"><span class="id" title="binder">m1</span></a> <a id="m2:92" class="idref" href="#m2:92"><span class="id" title="binder">m2</span></a>: <a class="idref" href="Giskard.structures.html#message"><span class="id" title="record">message</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Giskard.structures.html#m1:91"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#m2:92"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}+{</span></a><a class="idref" href="Giskard.structures.html#m1:91"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Giskard.structures.html#m2:92"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">decide</span> <span class="id" title="var">equality</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="Giskard.structures.html#block_eq_dec"><span class="id" title="definition">block_eq_dec</span></a>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="Giskard.structures.html#block_eq_dec"><span class="id" title="definition">block_eq_dec</span></a>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="Giskard.structures.html#node_eq_dec"><span class="id" title="definition">node_eq_dec</span></a>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eq_dec"><span class="id" title="lemma">Nat.eq_dec</span></a>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="Giskard.structures.html#message_type_eq_dec"><span class="id" title="definition">message_type_eq_dec</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="message_eqb" class="idref" href="#message_eqb"><span class="id" title="definition">message_eqb</span></a> : <a class="idref" href="Giskard.structures.html#message"><span class="id" title="record">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Giskard.structures.html#message"><span class="id" title="record">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
<span class="id" title="keyword">fun</span> <a id="m1:93" class="idref" href="#m1:93"><span class="id" title="binder">m1</span></a> <a id="m2:94" class="idref" href="#m2:94"><span class="id" title="binder">m2</span></a> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="Giskard.structures.html#message_eq_dec"><span class="id" title="definition">message_eq_dec</span></a> <a class="idref" href="Giskard.structures.html#m1:93"><span class="id" title="variable">m1</span></a> <a class="idref" href="Giskard.structures.html#m2:94"><span class="id" title="variable">m2</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="message_eqb_correct" class="idref" href="#message_eqb_correct"><span class="id" title="lemma">message_eqb_correct</span></a> : <span class="id" title="keyword">forall</span> (<a id="m1:95" class="idref" href="#m1:95"><span class="id" title="binder">m1</span></a> <a id="m2:96" class="idref" href="#m2:96"><span class="id" title="binder">m2</span></a> : <a class="idref" href="Giskard.structures.html#message"><span class="id" title="record">message</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#message_eqb"><span class="id" title="definition">message_eqb</span></a> <a class="idref" href="Giskard.structures.html#m1:95"><span class="id" title="variable">m1</span></a> <a class="idref" href="Giskard.structures.html#m2:96"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Giskard.structures.html#m1:95"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#m2:96"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Giskard.structures.html#message_eqb"><span class="id" title="definition">message_eqb</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Giskard.structures.html#message_eq_dec"><span class="id" title="definition">message_eq_dec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab8"></a><h2 class="section">Node state</h2>

<div class="paragraph"> </div>

 Node state contains:
<ul class="doclist">
<li> <code>node_view</code>: view number,

</li>
<li> <code>node_id</code>: node identifier,

</li>
<li> <code>in_messages</code>: incoming message buffer,

</li>
<li> <code>counting_messages</code>: processed message buffer,

</li>
<li> <code>out_messages</code>: outgoing message buffer, and

</li>
<li> <code>timeout</code>: timeout flag.

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Record</span> <a id="NState" class="idref" href="#NState"><span class="id" title="record">NState</span></a> := <span class="id" title="var">mkNState</span> {<br/>
&nbsp;<a id="node_view" class="idref" href="#node_view"><span class="id" title="projection">node_view</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;<a id="node_id" class="idref" href="#node_id"><span class="id" title="projection">node_id</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>;<br/>
&nbsp;<a id="in_messages" class="idref" href="#in_messages"><span class="id" title="projection">in_messages</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#message"><span class="id" title="record">message</span></a>;<br/>
&nbsp;<a id="counting_messages" class="idref" href="#counting_messages"><span class="id" title="projection">counting_messages</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#message"><span class="id" title="record">message</span></a>;<br/>
&nbsp;<a id="out_messages" class="idref" href="#out_messages"><span class="id" title="projection">out_messages</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#message"><span class="id" title="record">message</span></a>;<br/>
&nbsp;<a id="timeout" class="idref" href="#timeout"><span class="id" title="projection">timeout</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="NState_init" class="idref" href="#NState_init"><span class="id" title="definition">NState_init</span></a> (<a id="n:104" class="idref" href="#n:104"><span class="id" title="binder">n</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>) : <a class="idref" href="Giskard.structures.html#NState"><span class="id" title="record">NState</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#mkNState"><span class="id" title="constructor">mkNState</span></a> 0 <a class="idref" href="Giskard.structures.html#n:104"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="NState_eq_dec" class="idref" href="#NState_eq_dec"><span class="id" title="definition">NState_eq_dec</span></a> : <span class="id" title="keyword">forall</span> (<a id="s1:105" class="idref" href="#s1:105"><span class="id" title="binder">s1</span></a> <a id="s2:106" class="idref" href="#s2:106"><span class="id" title="binder">s2</span></a> : <a class="idref" href="Giskard.structures.html#NState"><span class="id" title="record">NState</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Giskard.structures.html#s1:105"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#s2:106"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Giskard.structures.html#s1:105"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Giskard.structures.html#s2:106"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">decide</span> <span class="id" title="var">equality</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Bool.Bool.html#bool_dec"><span class="id" title="lemma">Bool.bool_dec</span></a>.<br/>
- <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#list_eq_dec"><span class="id" title="lemma">list_eq_dec</span></a> <a class="idref" href="Giskard.structures.html#message_eq_dec"><span class="id" title="definition">message_eq_dec</span></a>).<br/>
- <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#list_eq_dec"><span class="id" title="lemma">list_eq_dec</span></a> <a class="idref" href="Giskard.structures.html#message_eq_dec"><span class="id" title="definition">message_eq_dec</span></a>).<br/>
- <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#list_eq_dec"><span class="id" title="lemma">list_eq_dec</span></a> <a class="idref" href="Giskard.structures.html#message_eq_dec"><span class="id" title="definition">message_eq_dec</span></a>).<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="Giskard.structures.html#node_eq_dec"><span class="id" title="definition">node_eq_dec</span></a>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#Nat.eq_dec"><span class="id" title="lemma">Nat.eq_dec</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab9"></a><h2 class="section">Supplementary definitions</h2>

<div class="paragraph"> </div>

 Block proposer status is a function of the view number and node id. 
</div>
<div class="code">
<span class="id" title="keyword">Parameter</span> <a id="is_block_proposer" class="idref" href="#is_block_proposer"><span class="id" title="axiom">is_block_proposer</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
We require that views have unique block proposers. 
</div>
<div class="code">
<span class="id" title="keyword">Axiom</span> <a id="is_new_proposer_unique" class="idref" href="#is_new_proposer_unique"><span class="id" title="axiom">is_new_proposer_unique</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="n1:108" class="idref" href="#n1:108"><span class="id" title="binder">n1</span></a> <a id="n2:109" class="idref" href="#n2:109"><span class="id" title="binder">n2</span></a> : <a class="idref" href="Giskard.structures.html#node"><span class="id" title="axiom">node</span></a>) (<a id="v1:110" class="idref" href="#v1:110"><span class="id" title="binder">v1</span></a> <a id="v2:111" class="idref" href="#v2:111"><span class="id" title="binder">v2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#is_block_proposer"><span class="id" title="axiom">is_block_proposer</span></a> <a class="idref" href="Giskard.structures.html#n1:108"><span class="id" title="variable">n1</span></a> <a class="idref" href="Giskard.structures.html#v1:110"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#is_block_proposer"><span class="id" title="axiom">is_block_proposer</span></a> <a class="idref" href="Giskard.structures.html#n2:109"><span class="id" title="variable">n2</span></a> <a class="idref" href="Giskard.structures.html#v2:111"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#v1:110"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#v2:111"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#n1:108"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Giskard.structures.html#n2:109"><span class="id" title="variable">n2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="higher_block" class="idref" href="#higher_block"><span class="id" title="definition">higher_block</span></a> (<a id="b1:113" class="idref" href="#b1:113"><span class="id" title="binder">b1</span></a> <a id="b2:114" class="idref" href="#b2:114"><span class="id" title="binder">b2</span></a> : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a>) : <a class="idref" href="Giskard.structures.html#block"><span class="id" title="axiom">block</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">(</span></a><a class="idref" href="Giskard.structures.html#b_height"><span class="id" title="axiom">b_height</span></a> <a class="idref" href="Giskard.structures.html#b1:113"><span class="id" title="variable">b1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">(</span></a><a class="idref" href="Giskard.structures.html#b_height"><span class="id" title="axiom">b_height</span></a> <a class="idref" href="Giskard.structures.html#b2:114"><span class="id" title="variable">b2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Giskard.structures.html#b2:114"><span class="id" title="variable">b2</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Giskard.structures.html#b1:113"><span class="id" title="variable">b1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="message_with_higher_block" class="idref" href="#message_with_higher_block"><span class="id" title="definition">message_with_higher_block</span></a> (<a id="msg1:115" class="idref" href="#msg1:115"><span class="id" title="binder">msg1</span></a> <a id="msg2:116" class="idref" href="#msg2:116"><span class="id" title="binder">msg2</span></a> : <a class="idref" href="Giskard.structures.html#message"><span class="id" title="record">message</span></a>) : <a class="idref" href="Giskard.structures.html#message"><span class="id" title="record">message</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">(</span></a><a class="idref" href="Giskard.structures.html#b_height"><span class="id" title="axiom">b_height</span></a> (<a class="idref" href="Giskard.structures.html#get_block"><span class="id" title="projection">get_block</span></a> <a class="idref" href="Giskard.structures.html#msg1:115"><span class="id" title="variable">msg1</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">(</span></a><a class="idref" href="Giskard.structures.html#b_height"><span class="id" title="axiom">b_height</span></a> (<a class="idref" href="Giskard.structures.html#get_block"><span class="id" title="projection">get_block</span></a> <a class="idref" href="Giskard.structures.html#msg2:116"><span class="id" title="variable">msg2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Giskard.structures.html#msg2:116"><span class="id" title="variable">msg2</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Giskard.structures.html#msg1:115"><span class="id" title="variable">msg1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="quorumb" class="idref" href="#quorumb"><span class="id" title="definition">quorumb</span></a> (<a id="lm:117" class="idref" href="#lm:117"><span class="id" title="binder">lm</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#message"><span class="id" title="record">message</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#has_at_least_two_thirdsb"><span class="id" title="axiom">has_at_least_two_thirdsb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Giskard.structures.html#get_sender"><span class="id" title="projection">get_sender</span></a> <a class="idref" href="Giskard.structures.html#lm:117"><span class="id" title="variable">lm</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="quorum" class="idref" href="#quorum"><span class="id" title="definition">quorum</span></a> (<a id="lm:118" class="idref" href="#lm:118"><span class="id" title="binder">lm</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#message"><span class="id" title="record">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#has_at_least_two_thirds"><span class="id" title="definition">has_at_least_two_thirds</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Giskard.structures.html#get_sender"><span class="id" title="projection">get_sender</span></a> <a class="idref" href="Giskard.structures.html#lm:118"><span class="id" title="variable">lm</span></a>).<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="quorum_subset" class="idref" href="#quorum_subset"><span class="id" title="axiom">quorum_subset</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="lm1:119" class="idref" href="#lm1:119"><span class="id" title="binder">lm1</span></a> <a id="lm2:120" class="idref" href="#lm2:120"><span class="id" title="binder">lm2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#quorum"><span class="id" title="definition">quorum</span></a> <a class="idref" href="Giskard.structures.html#lm1:119"><span class="id" title="variable">lm1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="msg:121" class="idref" href="#msg:121"><span class="id" title="binder">msg</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Giskard.structures.html#msg:121"><span class="id" title="variable">msg</span></a> <a class="idref" href="Giskard.structures.html#lm1:119"><span class="id" title="variable">lm1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Giskard.structures.html#msg:121"><span class="id" title="variable">msg</span></a> <a class="idref" href="Giskard.structures.html#lm2:120"><span class="id" title="variable">lm2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Giskard.structures.html#quorum"><span class="id" title="definition">quorum</span></a> <a class="idref" href="Giskard.structures.html#lm2:120"><span class="id" title="variable">lm2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="quorum_growth" class="idref" href="#quorum_growth"><span class="id" title="lemma">quorum_growth</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> (<a id="lm:123" class="idref" href="#lm:123"><span class="id" title="binder">lm</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Giskard.structures.html#message"><span class="id" title="record">message</span></a>), <a class="idref" href="Giskard.structures.html#quorum"><span class="id" title="definition">quorum</span></a> <a class="idref" href="Giskard.structures.html#lm:123"><span class="id" title="variable">lm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="msg:124" class="idref" href="#msg:124"><span class="id" title="binder">msg</span></a> : <a class="idref" href="Giskard.structures.html#message"><span class="id" title="record">message</span></a>), <a class="idref" href="Giskard.structures.html#quorum"><span class="id" title="definition">quorum</span></a> (<a class="idref" href="Giskard.structures.html#msg:124"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Giskard.structures.html#lm:123"><span class="id" title="variable">lm</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lm</span> <span class="id" title="var">H</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Giskard.structures.html#quorum"><span class="id" title="definition">quorum</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Giskard.structures.html#majority_growth"><span class="id" title="axiom">majority_growth</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
